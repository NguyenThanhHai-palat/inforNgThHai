<p>TÊN ĐƠN HÀNG</p><input style="padding:10px 10px;font-size: 18px;" type="text" id="textInput"> <br>
<p>NGƯỜI NHẬN ĐƠN HÀNG</p><input style="padding:10px 10px;font-size: 18px;" type="text" id="textInputx"> <br>
<p>STT ĐƠN HÀNG(0-10000)</p><input style="padding:10px 10px;font-size: 18px;" type="number" id="numInput"> <br>
<select id="valueSelectGT" style="padding:10px 10px;font-size: 18px;">
    <option value="">Chọn loại đơn hàng</option>
    <option value="tdt">Thẻ Điện Thoại</option>
    <option value="ng">Nạp Game</option>
    <option value="w10up">Kích Hoạt Windows10/Cài Windows10</option>
    <option value="w11up">Kích Hoạt Windows11/Cài Windows11</option>
    <option value="smt">Phí Sửa Máy Tính</option> 
    <option value="nitro">Mua Nitro</option>
    <option value="DH">Khác</option>
  </select><br>
<select id="valueSelect" style="padding:10px 10px;font-size: 18px;">
    <option value="">Chọn giá tiền</option>
    <option value="5.000đ">5.000VNĐ</option>
    <option value="10.000đ">10.000VNĐ</option>
    <option value="20.000đ">20.000VNĐ</option>
    <option value="30.000đ">30.000VNĐ</option>
    <option value="40.000đ">40.000VNĐ</option>
    <option value="50.000đ">50.000VNĐ</option>
    <option value="60.000đ">60.000VNĐ</option>
    <option value="70.000đ">70.000VNĐ</option>
    <option value="80.000đ">80.000VNĐ</option>
    <option value="90.000đ">90.000VNĐ</option>
    <option value="100.000đ">100.000VNĐ</option>
    <option value="200.000đ">200.000VNĐ</option>
    <option value="500.000đ">500.000VNĐ</option>
    <option value="1.000.000đ">1.000.000VNĐ</option>
  </select><br>
<button style="padding:10px 10px;font-size: 18px;" onclick="createCanvasText()">Tạo Hóa Đơn</button>
<div style="width: 10%">
  <canvas id="cs" width="400px" height="600px" style="border:1px solid #d3d3d3;">TRÌNH DUYỆT KHÔNG HỖ TRỢ</canvas>
</div>
<script>
 let timec = new Date();
  var date = new Date();
  var days = new Array(7);
  days[0] = "Chủ Nhật";
  days[1] = "Thứ Hai";
  days[2] = "Thứ Ba";
  days[3] = "Thứ Tư";
  days[4] = "Thứ Năm";
  days[5] = "Thứ Sáu";
  days[6] = "Thứ Bảy";
  
  var DaysG = days[timec.getDay()];
  var DayG = timec.getDate();
  var MonthG = timec.getMonth()+1;
  var YearG = timec.getFullYear();
  var fulldate = DaysG+", ngày "+DayG+" tháng "+MonthG + " năm "+YearG;
    var date = new Date();
  var h = date.getHours();
  var m = date.getMinutes();
  var s = date.getSeconds();
  if (m < 10) {
    m = "0" + m;
  }
  if (s < 10) {
    s = "0" + s;
  }
  var timereal = h + ":" + m + ":" + s;
  var cas= "0";
   var canvas = document.getElementById("cs");
  var ctx = canvas.getContext("2d");

  function createCanvasText() {
    var valueSelect = document.getElementById('valueSelect');
    var selectedValue = valueSelect.value;
    var valueSelectG = document.getElementById('valueSelectGT');
    var selectedValueG = valueSelectG.value;
    var textInput = document.getElementById("textInput").value;
    var textInputxd = document.getElementById("textInputx").value;
    var textInput1 = document.getElementById("numInput").value;
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    var randomNumber = Math.floor(Math.random() * 10000); 
    
    ctx.font = "30px Arial";
    ctx.fillStyle = "black";
    ctx.fillText("HÓA ĐƠN THANH TOÁN", 20, 50);
    ctx.moveTo(0, 60);
    ctx.lineTo(400, 60);
    ctx.strokeStyle = "blue";
    ctx.lineWidth = 3;
    ctx.stroke();
    ctx.fillText("ĐƠN HÀNG", 100, 120);
    ctx.font = "20px Arial";
    ctx.fillText("SẢN PHẨM:", 10, 200);
    ctx.fillStyle = "red";
    ctx.font = "22px Arial";
    ctx.moveTo(0, 230);
    ctx.lineTo(400, 230);
    ctx.strokeStyle = "black";
    ctx.lineWidth = 3;
    ctx.stroke();
    ctx.fillText(textInput, 50, 225);
    ctx.fillStyle = "black";
    ctx.fillText("TỔNG THÀNH TIỀN:", 10, 300);
    ctx.fillStyle = "green";
    ctx.font = "25px Arial";
    ctx.fillText(selectedValue, 220, 300);
    ctx.fillStyle = "black";
    ctx.font = "22px Arial";
    ctx.fillText("MÃ ĐƠN HÀNG:", 10, 360);
    ctx.font = "15px Arial";
	ctx.fillText(fulldate, 160, 470); 
    ctx.fillText(timereal, 340, 485); 
    var orderCode;
    if (selectedValueG === "DH") {
      orderCode = "DH-" + randomNumber;
    } else {
      orderCode = selectedValueG + "-" + textInput1;
    }
    
    ctx.font = "22px Arial";
    ctx.fillText(orderCode, 260, 360); 
	ctx.fillText("NGƯỜI NHẬN:", 10, 440); 
    ctx.fillStyle = "blue";
    ctx.fillText(textInputxd, 170, 440);
     var image = canvas.toDataURL();
     var downloadLink = document.createElement('a');
    downloadLink.href = image;
    downloadLink.download = 'hoadon.png';
    downloadLink.textContent = 'Tải xuống hóa đơn';
   
    var container = document.getElementById('download-container');
    container.innerHTML = '';
    container.appendChild(downloadLink);
  }
</script>
<div id="download-container">

</div>
